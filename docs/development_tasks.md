# 開発タスク一覧

## フェーズ1: 基盤整備

### 1.1 プロジェクト構造の作成
- [ ] `requirements.txt` を作成（markdown-it-py含む）
- [ ] `config.json` のサンプル設定を作成
- [ ] `markchap.py` のメインファイルを作成
- [ ] テスト用サンプルフォルダとMarkdownファイルを作成（複雑なケース含む）

### 1.2 設定ファイル実装
- [ ] JSON設定ファイルの読み込み機能
- [ ] 除外見出しリストの設定
- [ ] 図表認識パターンの設定
- [ ] デフォルト設定の定義

## フェーズ2: コア機能実装

### 2.1 基本的なファイル操作
- [ ] 指定ディレクトリ内のmdファイル取得機能
- [ ] ファイルの辞書順ソート機能
- [ ] mdbuildディレクトリの作成・構造再現機能
- [ ] ファイルの読み書き機能

### 2.2 Markdownパーサー実装（markdown-it-pyベース）
- [ ] markdown-it-pyを使用したAST解析機能
- [ ] ASTトークンからの見出し抽出機能
- [ ] ASTトークンからの図表検出機能（画像・表）
- [ ] 除外見出しの判定機能
- [ ] ASTトークンの更新機能
- [ ] 更新されたASTからMarkdownテキスト再生成機能

### 2.3 章番号処理機能
- [ ] 見出しレベルごとの番号管理
- [ ] 複数ファイル間での連番継続
- [ ] 除外見出しのスキップ機能
- [ ] 既存番号の保持機能

### 2.4 図表番号処理機能
- [ ] 図の検出と番号付与機能
- [ ] 表の検出と番号付与機能
- [ ] 章変更時の図表番号リセット機能
- [ ] 図表番号の章番号との連動機能

## フェーズ3: 統合・テスト

### 3.1 メイン処理の統合
- [ ] コマンドライン引数の処理
- [ ] 全体の処理フローの実装
- [ ] エラーハンドリングの実装
- [ ] ログ出力機能の実装

### 3.2 テスト・デバッグ
- [ ] 単体テストの作成（ASTパーサー機能）
- [ ] 統合テストの実行
- [ ] 複雑なMarkdownケースのテスト（コードブロック、HTML混在など）
- [ ] エラーケースの検証
- [ ] パフォーマンステスト

### 3.3 ドキュメント整備
- [ ] README.mdの更新
- [ ] 使用方法の説明
- [ ] 設定ファイルの説明
- [ ] 制限事項の文書化

## フェーズ4: 改善・拡張

### 4.1 機能改善
- [ ] 処理速度の最適化
- [ ] メモリ使用量の最適化
- [ ] ユーザビリティの改善
- [ ] 設定オプションの追加

### 4.2 拡張機能
- [ ] 異なる図表認識パターンの追加
- [ ] カスタム番号付与フォーマットの対応
- [ ] 増分更新機能
- [ ] 複数出力形式の対応

## タスク管理

### 完了済み
- [x] 実装計画の作成
- [x] docsフォルダの作成
- [x] CLAUDE.mdの更新

### 進行中
- [ ] 基盤整備フェーズ

### 保留中
- 特になし

## 注意事項

- 各フェーズは順序立てて実装する
- テストは各機能実装後に必ず実行する
- ドキュメントは実装と並行して更新する
- 設定ファイルの変更は後方互換性を保つ